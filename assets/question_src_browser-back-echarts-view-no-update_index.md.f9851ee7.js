import{_ as n,c as a,o as s,a as t}from"./app.43cc515c.js";var p="/assets/2022-03-25-10-14-57.3edb2327.png";const y='{"title":"\u6D4F\u89C8\u5668\u56DE\u9000\uFF0Cecharts\u6570\u636E\u6B63\u5E38\uFF0C\u4F46\u662F\u89C6\u56FE\u672A\u66F4\u65B0","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u4EE3\u7801","slug":"\u4EE3\u7801"},{"level":2,"title":"\u540E\u6765","slug":"\u540E\u6765"}],"relativePath":"question/src/browser-back-echarts-view-no-update/index.md"}',o={},e=t(`<h1 id="\u6D4F\u89C8\u5668\u56DE\u9000\uFF0Cecharts\u6570\u636E\u6B63\u5E38\uFF0C\u4F46\u662F\u89C6\u56FE\u672A\u66F4\u65B0" tabindex="-1">\u6D4F\u89C8\u5668\u56DE\u9000\uFF0Cecharts\u6570\u636E\u6B63\u5E38\uFF0C\u4F46\u662F\u89C6\u56FE\u672A\u66F4\u65B0 <a class="header-anchor" href="#\u6D4F\u89C8\u5668\u56DE\u9000\uFF0Cecharts\u6570\u636E\u6B63\u5E38\uFF0C\u4F46\u662F\u89C6\u56FE\u672A\u66F4\u65B0" aria-hidden="true">#</a></h1><h2 id="\u4EE3\u7801" tabindex="-1">\u4EE3\u7801 <a class="header-anchor" href="#\u4EE3\u7801" aria-hidden="true">#</a></h2><div class="language-js"><pre><code>
<span class="token keyword">const</span> <span class="token function-variable function">handleUpdateEcharts</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token literal-property property">option</span><span class="token operator">:</span> echarts<span class="token punctuation">.</span>ECBasicOption <span class="token operator">=</span> myChart<span class="token punctuation">.</span><span class="token function">getOption</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    option<span class="token punctuation">.</span>series<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>data <span class="token operator">=</span> arr<span class="token punctuation">;</span>
    myChart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token literal-property property">myChart</span><span class="token operator">:</span> echarts<span class="token punctuation">.</span>EChartsType
    <span class="token keyword">let</span> <span class="token literal-property property">dom</span><span class="token operator">:</span> HTMLElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;echarts_dom&#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLElement<span class="token punctuation">;</span>
    myChart <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>dom<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>



</code></pre></div><p><code>myChart.setOption</code> \u5E76\u6CA1\u6709\u66F4\u65B0\u8BD5\u56FE\uFF0C\u4F46\u662F\u518D\u6B21\u6253\u5370 <code>myChart.getOption()</code> \u6570\u636E\u786E\u5B9E\u66F4\u65B0\u4E0A\u53BB\u4E86</p><h2 id="\u540E\u6765" tabindex="-1">\u540E\u6765 <a class="header-anchor" href="#\u540E\u6765" aria-hidden="true">#</a></h2><div class="language-js"><pre><code>
<span class="token keyword">const</span> <span class="token function-variable function">handleUpdateEcharts</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token literal-property property">option</span><span class="token operator">:</span> echarts<span class="token punctuation">.</span>ECBasicOption <span class="token operator">=</span> myChart<span class="token punctuation">.</span><span class="token function">getOption</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    option<span class="token punctuation">.</span>series<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>data <span class="token operator">=</span> arr<span class="token punctuation">;</span>
    myChart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token literal-property property">myChart</span><span class="token operator">:</span> echarts<span class="token punctuation">.</span>EChartsType
    <span class="token keyword">let</span> <span class="token literal-property property">dom</span><span class="token operator">:</span> HTMLElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;echarts_dom&#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLElement<span class="token punctuation">;</span>
    echarts<span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span>dom<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// \u4E0D\u540C ####</span>
    myChart <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>dom<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>


</code></pre></div><p>\u5728 <code>init</code> \u524D\u9700\u8981 <code>dispose</code>\u4E0B\u7136\u540E\u518D <code>init</code> ,\u8FD9\u6837\u5C31\u6B63\u5E38\u4E86</p><p><img src="`+p+'" alt=""></p><p>\u9644\uFF1A</p><ul><li><a href="https://echarts.apache.org/zh/api.html#echarts.dispose" target="_blank" rel="noopener noreferrer">dispose api</a></li><li><a href="https://echarts.apache.org/handbook/zh/concepts/chart-size/#%E5%AE%B9%E5%99%A8%E8%8A%82%E7%82%B9%E8%A2%AB%E9%94%80%E6%AF%81%E4%BB%A5%E5%8F%8A%E8%A2%AB%E9%87%8D%E5%BB%BA%E6%97%B6" target="_blank" rel="noopener noreferrer">\u5BB9\u5668\u8282\u70B9\u88AB\u9500\u6BC1\u4EE5\u53CA\u88AB\u91CD\u5EFA\u65F6</a></li></ul>',10),c=[e];function r(l,u,i,k,d,h){return s(),a("div",null,c)}var _=n(o,[["render",r]]);export{y as __pageData,_ as default};
