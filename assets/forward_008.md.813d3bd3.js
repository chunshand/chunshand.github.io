import{_ as s,o as a,c as n,f as e}from"./app.838d77cc.js";const u=JSON.parse('{"title":"\u8DEF\u7531\u7684\u539F\u7406","description":"","frontmatter":{},"headers":[{"level":2,"title":"History.pushState()","slug":"history-pushstate"},{"level":2,"title":"History.replaceState()","slug":"history-replacestate"},{"level":2,"title":"onpopstate","slug":"onpopstate"},{"level":2,"title":"vue-router \u539F\u7406","slug":"vue-router-\u539F\u7406"}],"relativePath":"forward/008.md"}'),l={name:"forward/008.md"},o=e(`<h1 id="\u8DEF\u7531\u7684\u539F\u7406" tabindex="-1">\u8DEF\u7531\u7684\u539F\u7406 <a class="header-anchor" href="#\u8DEF\u7531\u7684\u539F\u7406" aria-hidden="true">#</a></h1><p>\u524D\u7AEF\u8BF4\u5230\u8DEF\u7531\uFF0C\u5FC5\u7136\u79BB\u4E0D\u5F00\u6D4F\u89C8\u5668\u7684 <code>History</code> \u5BF9\u8C61</p><p><code>windows.history == history</code></p><ul><li><code>history.back()</code> \u540E\u9000</li><li><code>history.forward()</code> \u524D\u8FDB</li><li><code>history.go(number)</code> 0-\u5237\u65B0\u9875\u9762 &gt;0\u524D\u8FDB &lt;0 \u540E\u9000</li></ul><h2 id="history-pushstate" tabindex="-1">History.pushState() <a class="header-anchor" href="#history-pushstate" aria-hidden="true">#</a></h2><p>\u5386\u53F2\u4E2D\u6DFB\u52A0\u4E00\u6761\u8BB0\u5F55</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> state </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#A6ACCD;">history</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">pushState</span><span style="color:#A6ACCD;">(state</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">pageA</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/1.html?a=1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(history</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">state)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// {a:1}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="history-replacestate" tabindex="-1">History.replaceState() <a class="header-anchor" href="#history-replacestate" aria-hidden="true">#</a></h2><p>\u4FEE\u6539\u5F53\u524D\u8BB0\u5F55</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> state </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#A6ACCD;">history</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">replaceState</span><span style="color:#A6ACCD;">(state</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">pageA</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/1.html?a=1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(history</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">state)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// {a:1}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="onpopstate" tabindex="-1">onpopstate <a class="header-anchor" href="#onpopstate" aria-hidden="true">#</a></h2><p><code>onpopstate</code>\u662F\u4E00\u4E2A\u76D1\u542C\u65B9\u6CD5\uFF0C\u53EF\u4EE5\u76D1\u542C\u7528\u6237\u7684\u524D\u8FDB\u540E\u9000\uFF0C\u4F46\u662F\u5BF9\u4E8E\u524D\u9762\u7684<code>pushState</code> <code>replaceState</code>\u64CD\u4F5C\u4E0D\u505A\u53CD\u5E94\u3002</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">window</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">onpopstate</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">location: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">location</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">state: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stringify</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">state</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="vue-router-\u539F\u7406" tabindex="-1">vue-router \u539F\u7406 <a class="header-anchor" href="#vue-router-\u539F\u7406" aria-hidden="true">#</a></h2><p>\u4E86\u89E3\u4E86<code>history</code> \u6765\u770B\u770B <code>vue-router</code> \u90FD\u505A\u4E86\u4EC0\u4E48\u5427</p><p><a href="https://github.com/vuejs/vue-router/blob/dev/src/util/push-state.js" target="_blank" rel="noopener noreferrer">https://github.com/vuejs/vue-router/blob/dev/src/util/push-state.js</a></p><ul><li><code>vue-router</code> <code>push</code>\u65B9\u6CD5 \u8C03\u7528\u4E86 <code>pushState</code> \u5176\u672C\u8D28\u5C31\u662F\u8C03\u7528\u4E86 <code> history.pushState({ key: setStateKey(genStateKey()) }, &#39;&#39;, url)</code></li></ul>`,17),p=[o];function t(r,c,y,i,D,F){return a(),n("div",null,p)}var A=s(l,[["render",t]]);export{u as __pageData,A as default};
