import{_ as s,o as a,c as n,f as l}from"./app.d530b718.js";const A=JSON.parse('{"title":"\u6570\u636E\u7ED3\u6784","description":"","frontmatter":{},"headers":[{"level":2,"title":"let","slug":"let"},{"level":2,"title":"Set","slug":"set"},{"level":2,"title":"WeakSet","slug":"weakset"},{"level":2,"title":"Map","slug":"map"},{"level":2,"title":"WeakMap","slug":"weakmap"},{"level":2,"title":"WeakRef","slug":"weakref"},{"level":2,"title":"Symbol","slug":"symbol"},{"level":2,"title":"\u603B\u7ED3\u4E0B","slug":"\u603B\u7ED3\u4E0B"}],"relativePath":"forward/007.md"}'),p={name:"forward/007.md"},e=l(`<h1 id="\u6570\u636E\u7ED3\u6784" tabindex="-1">\u6570\u636E\u7ED3\u6784 <a class="header-anchor" href="#\u6570\u636E\u7ED3\u6784" aria-hidden="true">#</a></h1><h2 id="let" tabindex="-1">let <a class="header-anchor" href="#let" aria-hidden="true">#</a></h2><p>\u6211\u4EEC\u7ECF\u5E38\u4F1A\u8BF4\u4E00\u4E2A\u53D8\u91CF\u4E3A\u51FD\u6570\u53D8\u91CF\uFF0C\u5168\u5C40\u53D8\u91CF\u3002\u4E0E<code>var</code>\u4E0D\u540C\uFF0C<code>let</code>\u5177\u6709\u5757\u7EA7\u4F5C\u7528\u57DF\uFF0C\u90A3\u4EC0\u4E48\u662F\u5757\u7EA7\u4F5C\u7528\u57DF\uFF1F</p><ul><li>\u5757\u4F5C\u7528\u57DF\u7531<code>{ }</code>\u5305\u62EC</li><li>\u4E0D\u5141\u8BB8\u76F8\u540C\u4F5C\u7528\u57DF\u91CD\u590D\u58F0\u660E</li><li>\u4E0D\u80FD\u5728\u51FD\u6570\u5185\u5BB9\u91CD\u65B0\u58F0\u660E\u53C2\u6570</li></ul><blockquote><p>\u52FF\u8981\u5728 <code>if(){ }</code>\u7684 <code>{}</code> \u91CD\u65B0\u58F0\u660E\u51FD\u6570</p></blockquote><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// \u6D4F\u89C8\u5668\u7684 ES6 \u73AF\u5883</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">f</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">I am outside!</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">(</span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#FF9CAC;">false</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u91CD\u590D\u58F0\u660E\u4E00\u6B21\u51FD\u6570f</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">f</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">I am inside!</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">f</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">())</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// Uncaught TypeError: f is not a function</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="set" tabindex="-1">Set <a class="header-anchor" href="#set" aria-hidden="true">#</a></h2><p>\u7B80\u8A00\u6982\u4E4B\uFF0C\u5143\u7D20\u4E0D\u91CD\u590D\u7684\u6570\u7EC4</p><ul><li>add \u6DFB\u52A0\u5143\u7D20</li><li>size \u957F\u5EA6</li><li>has \u5224\u65AD\u503C\u662F\u5426\u5B58\u5728</li><li>clear \u6E05\u7A7A</li><li>delete \u5220\u9664\u5143\u7D20</li></ul><h2 id="weakset" tabindex="-1">WeakSet <a class="header-anchor" href="#weakset" aria-hidden="true">#</a></h2><p>\u4E0E<code>set</code> \u7C7B\u4F3C\uFF0C\u503C\u4E0D\u91CD\u590D\uFF0C\u4E0D\u540C\u7684\u662F\u503C\u53EA\u80FD\u662F\u5BF9\u8C61\u3002</p><p>\u6CA1\u6709size \uFF0C\u6240\u4EE5\u65E0\u6CD5\u83B7\u53D6\u957F\u5EA6</p><p>\u503C\u90FD\u662F\u5F31\u5F15\u7528\uFF0C\u610F\u601D\u5C31\u662F\uFF0C\u503C\u5220\u9664\u4E86\uFF0CweakSet\u91CC\u7684\u503C\u81EA\u7136\u4E5F\u4F1A\u5220\u9664\u3002</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> w  </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">WeakSet</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> c </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">w</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add</span><span style="color:#A6ACCD;">(c)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(w</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">has</span><span style="color:#A6ACCD;">(c))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// c \u8BBE\u7F6E\u4E3Anull \u540E w\u91CC\u7684c\u4E5F\u4F1A\u8FDB\u884C\u56DE\u6536</span></span>
<span class="line"><span style="color:#A6ACCD;">c </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(w</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">has</span><span style="color:#A6ACCD;">(c))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="map" tabindex="-1">Map <a class="header-anchor" href="#map" aria-hidden="true">#</a></h2><p>\u548C<code>js\u5BF9\u8C61</code>\u7C7B\u4F3C\uFF0C<code>js\u5BF9\u8C61</code>\u662F\u4E00\u4E2A\u952E\u503C\u5BF9\u7684\u7C7B\u578B\uFF0C\u4F46\u662F<code>js\u5BF9\u8C61</code>\u7684key\u53EA\u80FD\u662F\u5B57\u7B26\u4E32\uFF0C<code>map</code>\u4E0D\u540C\u7684\u5219\u662F\uFF0C<code>map</code>\u7684<code>key</code>\u4E0D\u53D7\u9650\u5236\uFF0C\u53EF\u4EE5\u4F7F\u5404\u79CD\u7C7B\u578B\u7684\u503C\u3002</p><ul><li>set(key,value) \u6DFB\u52A0\u5143\u7D20</li><li>size</li><li>has</li><li>delete</li><li>get</li></ul><h2 id="weakmap" tabindex="-1">WeakMap <a class="header-anchor" href="#weakmap" aria-hidden="true">#</a></h2><p>\u4E0E<code>map</code>\u4E0D\u540C</p><ul><li><code>key</code> \u53EA\u80FD\u662F\u5BF9\u8C61(\u548CSymbol\uFF1A\u770B\u540E\u671F\u63D0\u6848)</li><li><code>value</code> \u4E0D\u8BA1\u5165\u5783\u573E\u56DE\u6536\u673A\u5236</li></ul><p><code>vue</code> \u4E2D\u5C31\u4F7F\u7528\u4E86<code>WeakMap</code>\u6765\u5B58\u50A8\u4F9D\u8D56\u5173\u7CFB\u3002</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// vue\u6E90\u7801  </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> targetMap </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">WeakMap</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    targetMap</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">set</span><span style="color:#A6ACCD;">(target</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> depsMap </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Map</span><span style="color:#A6ACCD;">())</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u5047\u5982\u6211\u4EEC\u83B7\u53D6\u4E86\u4E00\u4E2Adom\u5143\u7D20\u5BF9\u8C61\uFF0C <code>set(dom,{height:100})</code>\uFF0C\u5F53 <code>dom</code> \u88AB\u5220\u9664\u540E\uFF0C\u5BF9\u5E94\u7684get \u503C<code>{height:100}</code>\u4E5F\u4F1A\u968F\u4E4B\u6D88\u5931\uFF0C\u4E0D\u4F1A\u9020\u6210\u5185\u5B58\u6CC4\u6F0F</p><h2 id="weakref" tabindex="-1">WeakRef <a class="header-anchor" href="#weakref" aria-hidden="true">#</a></h2><p>\u5F31\u5F15\u7528\u5BF9\u8C61\u7684\u7528\u5904\uFF0C\u5219\u4F53\u73B0\u5728\u7F13\u5B58\u3002</p><p>\u548C <code>WeakMap</code> \u7C7B\u4F3C</p><p>\u7528\u6CD5</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> target </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">:</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> wr </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">WeakRef</span><span style="color:#A6ACCD;">(target)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> wr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deref</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> (obj) </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// target \u672A\u88AB\u5783\u573E\u56DE\u6536\u673A\u5236\u6E05\u9664</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">obj</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">//{&quot;a&quot;:1}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">target</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">target</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// null</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">obj</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">//{&quot;a&quot;:1}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="symbol" tabindex="-1">Symbol <a class="header-anchor" href="#symbol" aria-hidden="true">#</a></h2><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#FFCB6B;">Symbol</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">!=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Symbol</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// true</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u90FD\u662F 1 \u751F\u6210\u7684<code>Symbol</code>\u5BF9\u8C61\u662F\u4E0D\u76F8\u7B49\u7684\u3002</p><p>\u72EC\u4E00\u65E0\u4E8C\u7684\u503C\u3002</p><p>\u4E3A\u4E86\u653E\u7F6E\u5C5E\u6027\u547D\u540D\u7684\u51B2\u7A81\u3002</p><h2 id="\u603B\u7ED3\u4E0B" tabindex="-1">\u603B\u7ED3\u4E0B <a class="header-anchor" href="#\u603B\u7ED3\u4E0B" aria-hidden="true">#</a></h2><ul><li><code>Set</code> \u4E0D\u53EF\u91CD\u590D\u7684&quot;\u6570\u7EC4&quot;</li><li><code>WeakSet</code> \u4E0E <code>Set</code> \u7C7B\u4F3C\uFF0C\u4F46\u662F\u503C\u53EA\u80FD\u662F\u5BF9\u8C61</li><li><code>Map</code> \u952E\u503C\u5BF9\u7C7B\u578B\uFF0C<code>key</code>\u53EF\u4EE5\u662F\u5404\u79CD\u7C7B\u578B</li><li><code>WeakMap</code> \u4E0E<code>Map</code>\u7C7B\u4F3C\uFF0C\u4F46\u662F<code>key</code>\u53EA\u80FD\u662F\u5BF9\u8C61</li><li><code>WeakRef</code> \u5E38\u7528\u4E8E\u7F13\u5B58\u5BF9\u8C61</li></ul>`,35),o=[e];function c(r,t,i,y,F,D){return a(),n("div",null,o)}var C=s(p,[["render",c]]);export{A as __pageData,C as default};
